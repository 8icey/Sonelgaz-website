<!DOCTYPE html>
<html>
<head>
  <link rel="icon" type="image/png" href="images/sonelgaz.png">

  <title>Interventions</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<script src="js/guard.js"></script>

<div id="navbar"></div>

<div class="container">
  <h2>Intervention Management</h2>

  <button class="primary" onclick="showCreate()">âž• Create Intervention</button>
  <div class="filters">
  <input type="text" id="searchInput" placeholder="Search by title...">

  <select id="filterStatus">
    <option value="">All Status</option>
    <option value="Pending">Pending</option>
    <option value="In Progress">In Progress</option>
    <option value="Completed">Completed</option>
    <option value="Cancelled">Cancelled</option>
  </select>
</div>


  <table width="100%">
    <thead>
      <tr>
        <th>ID</th>
        <th>Title</th>
        <th>Project</th>
        <th>Client</th>
        <th>Status</th>
        <th>Assigned Users</th>
        <th>Scheduled Date</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody id="interventionsTable"></tbody>
  </table>
  <div style="margin-top: 15px;">
  <button onclick="prevPage()">Previous</button>
  <button onclick="nextPage()">Next</button>
</div>

</div>

<!-- CREATE MODAL -->
<div id="interventionModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>

    <h3>Create Intervention</h3>

    <form onsubmit="event.preventDefault(); createIntervention();">

      <input id="title" placeholder="Title" required>
      <input id="description" placeholder="Description">

      <label>Project</label>
      <select id="projectSelect" required></select>

      <label>Client</label>
      <select id="clientSelect" required></select>

      <label>Status</label>
      <select id="statusSelect">
        <option value="1">Pending</option>
        <option value="2">In Progress</option>
        <option value="3">Completed</option>
        <option value="4">Cancelled</option>
      </select>

      <label>Scheduled Date</label>
      <input id="scheduledDate" type="date">

      <button class="primary" type="submit">Create</button>
    </form>
  </div>
</div>

<script src="js/api.js"></script>
<script src="js/toast.js"></script>

<script src="js/navbar.js"></script>
<script src="js/interventions.js"></script>
<script>renderNavbar();</script>
<div id="toastContainer"></div>
<script src="js/toast.js"></script>
<div id="loader" class="loader"></div>

</body>
</html>
